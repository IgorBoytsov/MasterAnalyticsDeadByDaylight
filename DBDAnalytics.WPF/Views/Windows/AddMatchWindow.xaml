<Window x:Class="DBDAnalytics.WPF.Views.Windows.AddMatchWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DBDAnalytics.WPF.Views.Windows" 
        xmlns:enum="clr-namespace:DBDAnalytics.WPF.Enums" 
        xmlns:windowvm="clr-namespace:DBDAnalytics.WPF.ViewModels.WindowVM" 
        d:DataContext="{d:DesignInstance Type=windowvm:AddMatchVM}"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        MinHeight="450" MinWidth="800"
        Height="850" Width="1600" 
        d:Height="Auto"
        Title="{Binding Title}" >
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="34"
                   GlassFrameThickness="0"
                   CornerRadius="0"/>
    </WindowChrome.WindowChrome>

    <Border x:Name="MainWindowBorder" BorderBrush="LightCoral" BorderThickness="0">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height ="Auto"/>
                <RowDefinition Height ="*"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0" Height="Auto" Background="#F999" Grid.ColumnSpan="2">

                <StackPanel HorizontalAlignment="Left">
                    <TextBlock Text="{Binding Title}"/>
                </StackPanel>

                <!--#region Кнопки изменение WindowState-->

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" >

                    <Button Style="{StaticResource MinimizeButtonStyle}" 
                        Command="{Binding MinimizeWindowCommand}" 
                        CommandParameter="{x:Static enum:WindowName.AddMatch}"
                        WindowChrome.IsHitTestVisibleInChrome="True" 
                        ToolTip="Minimize"/>

                    <Button x:Name="RestoreButton" 
                        Visibility="Collapsed" 
                        Style="{StaticResource RestoreButtonStyle}" 
                        Command="{Binding RestoreWindowCommand}" 
                        CommandParameter="{x:Static enum:WindowName.AddMatch}"
                        WindowChrome.IsHitTestVisibleInChrome="True" 
                        ToolTip="Restore"/>

                    <Button x:Name="MaximizeButton" 
                        Visibility="Visible" 
                        Style="{StaticResource MaximizeButtonStyle}" 
                        Command="{Binding MaximizeWindowCommand}"
                        CommandParameter="{x:Static enum:WindowName.AddMatch}"
                        WindowChrome.IsHitTestVisibleInChrome="True" 
                        ToolTip="Maximize" />

                    <Button Style="{StaticResource CloseButtonStyle}"  
                        Command="{Binding CloseWindowCommand}"
                        CommandParameter="{x:Static enum:WindowName.AddMatch}"
                        WindowChrome.IsHitTestVisibleInChrome="True"
                        ToolTip="Close"/>

                </StackPanel>

                <!--#endregion-->

            </Grid>

            <Grid Grid.Row="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="300"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!--#region Управление скриншотами матча -->

                <StackPanel Grid.Row="0" Grid.ColumnSpan="2" HorizontalAlignment="Left">
                    <WrapPanel>
                        <TextBox Text="Путь к файлам" Width="300"/>
                        <!--Сделать Popup с выбором по сколько изображение нужно загружать.-->
                        <Button Content="Загружать по:"/>
                        <Button Content="Добавить матч"
                                Command="{Binding AddMatchCommand}"/>
                    </WrapPanel>
                    
                    <WrapPanel>
                        <Button Content="Путь" ToolTip="Выбрать путь"/>
                        <Button Content="Очистить" ToolTip="Очистить список"/>
                        <Button Content="Выбрать" ToolTip="Выбрать файлы" Command="{Binding SelectImagesCommand}"/>
                    </WrapPanel>
                </StackPanel>
                
                <!--#endregion-->

                <!--#region Скриншоты матча-->

                <ListView Grid.Row="1" 
                          ItemsSource="{Binding ImagePaths}" 
                          SelectedItem="{Binding SelectedImagePath}"
                          d:ItemsSource="{d:SampleData ItemCount=5}"
                          VirtualizingPanel.IsVirtualizing="True"
                          ScrollViewer.CanContentScroll="True"
                          VirtualizingPanel.VirtualizationMode="Recycling"
                          VirtualizingPanel.CacheLength="15,15"
                          VirtualizingPanel.CacheLengthUnit="Item"
                          VirtualizingPanel.ScrollUnit="Pixel">

                    <ListView.Resources>
                        <Style TargetType="ListViewItem">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ListViewItem">
                                        <Border Name="Border" Padding="2" BorderThickness="3" SnapsToDevicePixels="true">
                                            <ContentPresenter/>
                                        </Border>
                                        <ControlTemplate.Triggers>

                                            <Trigger Property="IsSelected" Value="true">
                                                <Setter TargetName="Border" Property="BorderBrush" Value="Yellow"/>
                                                <Setter Property="Foreground" Value="Black"/>
                                            </Trigger>

                                            <Trigger Property="IsMouseOver" Value="true">
                                                <Setter TargetName="Border" Property="Background" Value="Gray"/>
                                                <Setter TargetName="Border" Property="BorderThickness" Value="1"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </ListView.Resources>

                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <VirtualizingStackPanel />
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>
                   
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Image Source="{Binding ImageByte}" 
                                   Width="280" 
                                   Height="auto"
                                   VerticalAlignment="Center"/>
                        </DataTemplate>
                    </ListView.ItemTemplate>

                    <ListView.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Начало матча"
                                      Command="{Binding LoadStartMatchImageCommand}"/>
                            <MenuItem Header="Конец матча"
                                      Command="{Binding LoadEndMatchImageCommand}"/>
                            <MenuItem Header="Итог матча"
                                      Command="{Binding LoadResultMatchImageCommand}"/>

                            <Separator/>
                            
                            <MenuItem Header="Удалить"
                                      Command="{Binding DeleteSelectedImageCommand}"/>
                        </ContextMenu>
                    </ListView.ContextMenu>
                    
                </ListView>

                <!--#endregion-->

                <!--#region Добавление данных для матча -->

                <ScrollViewer Grid.Row="1" Grid.Column="1">
                    <TabControl Margin="10,0,10,0">

                        <TabControl.Resources>

                            <Style TargetType="TabPanel">
                                <Setter Property="HorizontalAlignment" Value="Center"/>
                            </Style>

                            <!--#region Height 1 строки, в которой находится вырезаное изображение из итоговой таблицы матча -->

                            <Style x:Key="RowDefinitionKiller№1" TargetType="RowDefinition">
                                <Setter Property="Height" Value="240"/>
                            </Style>

                            <Style x:Key="RowDefinitionSurvivor№1" TargetType="RowDefinition">
                                <Setter Property="Height" Value="240"/>
                            </Style>

                            <Style x:Key="RowDefinitionResultMatch№1" TargetType="RowDefinition">
                                <Setter Property="Height" Value="240"/>
                            </Style>

                            <!--#endregion-->

                            <!--#region Height 2 строки, в которой находятся поля для отображение вносимых данных -->

                            <Style x:Key="RowDefinitionKiller№2" TargetType="RowDefinition">
                                <Setter Property="Height" Value="312"/>
                            </Style>

                            <Style x:Key="RowDefinitionSurvivor№2" TargetType="RowDefinition">
                                <Setter Property="Height" Value="355"/>
                            </Style>

                            <Style x:Key="RowDefinitionResultMatch№2" TargetType="RowDefinition">
                                <Setter Property="Height" Value="355"/>
                            </Style>

                            <!--#endregion-->

                            <!--#region Height 3 строки, в которой находятся для выбора данных -->

                            <Style x:Key="RowDefinitionKiller№3" TargetType="RowDefinition">
                                <Setter Property="Height" Value="600"/>
                            </Style>

                            <Style x:Key="RowDefinitionSurvivor№3" TargetType="RowDefinition">
                                <Setter Property="Height" Value="600"/>
                            </Style>

                            <Style x:Key="RowDefinitionResultMatch№3" TargetType="RowDefinition">
                                <Setter Property="Height" Value="600"/>
                            </Style>

                            <!--#endregion-->

                        </TabControl.Resources>

                        <!--#region Киллер -->

                        <TabItem Header="Киллер">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№1}"/>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№2}"/>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№3}"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!--#region Изображение -->

                                <Border Grid.ColumnSpan="3">
                                    <StackPanel>
                                        <Border Margin="5,10,5,5" 
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                            <TextBlock Text="Итог киллер"/>
                                        </Border>
                                        <Border Background="#F999">
                                            <Image Source="{Binding ResultMatchKillerImage}"
                                                   Width="920"
                                                   Height="145"
                                                   Margin="10"/>
                                        </Border>
                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Основная информация -->

                                <Border Grid.Row="1" Grid.Column="0" >
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                                <TextBlock Text="Киллер:" 
                                                           FontSize="20"/>
                                                <TextBlock Text="Платформа:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Престиж:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Счет:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Режим:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Бот:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Ассоциация:"
                                                           FontSize="20"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                                                <ComboBox ItemsSource="{Binding Killers}"
                                                          SelectedItem="{Binding SelectedKiller}"                         
                                                          DisplayMemberPath="KillerName"
                                                          Margin="0,5,0,5"/>

                                                <ComboBox ItemsSource="{Binding Platforms}" 
                                                          SelectedItem="{Binding SelectedKillerPlatform}"  
                                                          DisplayMemberPath="PlatformName"
                                                          />

                                                <TextBox Width="150" Height="25"
                                                         Text="{Binding KillerPrestige}"/>

                                                <TextBox Width="150" Height="25" 
                                                         Text="{Binding KillerAccount}"/>

                                                <CheckBox Content="Анонимный?"
                                                          Width="150" FontSize="20"
                                                          Margin="0,5,0,5"
                                                          IsChecked="{Binding KillerAnonymousMode}"
                                                          Foreground="Black" 
                                                          VerticalContentAlignment="Center"/>

                                                <CheckBox Content="Игрок вышел?" 
                                                          Width="150" 
                                                          FontSize="20" 
                                                          Margin="0,5,0,5"
                                                          IsChecked="{Binding KillerBot}"
                                                          Foreground="Black" 
                                                          VerticalContentAlignment="Center"/>

                                                <ComboBox ItemsSource="{Binding KillerPlayerAssociations}"
                                                          SelectedItem="{Binding SelectedKillerPlayerAssociation}"
                                                          DisplayMemberPath="PlayerAssociationName"/>
                                            </StackPanel>

                                        </Grid>

                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Билд (Перки + аддоны) -->

                                <Border Grid.Row="1" Grid.Column="1">
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Билд" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                                <TextBlock Text="Перк I:"/>
                                                <TextBlock Text="Перк II:"/>
                                                <TextBlock Text="Перк III:"/>
                                                <TextBlock Text="Перк IV:"/>
                                                <TextBlock Text=""/>
                                                <TextBlock Text="Улучшение I"/>
                                                <TextBlock Text="Улучшение II"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1">
                                                <TextBox Text="{Binding SelectedKillerFirstPerk.PerkName}"
                                                          IsReadOnly="True"/>

                                                <TextBox Text="{Binding SelectedKillerSecondPerk.PerkName}"
                                                         IsReadOnly="True"/>

                                                <TextBox Text="{Binding SelectedKillerThirdPerk.PerkName}"
                                                         IsReadOnly="True"/>

                                                <TextBox Text="{Binding SelectedKillerFourthPerk.PerkName}"
                                                         IsReadOnly="True"/>

                                                <TextBlock Text=""/>

                                                <TextBox Text="{Binding SelectedKillerFirstAddon.AddonName}"
                                                         IsReadOnly="True"/>

                                                <TextBox Text="{Binding SelectedKillerSecondAddon.AddonName}"
                                                          IsReadOnly="True"/>
                                            </StackPanel>

                                        </Grid>

                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Подношение -->

                                <Border Grid.Row="1" Grid.Column="2">
                                    <StackPanel>
                                        
                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Подношение" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                                <TextBlock Text="Подношение:"/>
                                                <TextBlock Text="Роль:"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1">
                                                <TextBox Text="{Binding SelectedKillerOffering.OfferingName}"
                                                         IsReadOnly="True"/>

                                                <ComboBox ItemsSource="{Binding KillerRoles}"
                                                          SelectedItem="{Binding SelectedKillerRole}"
                                                          DisplayMemberPath="RoleName"/>
                                            </StackPanel>
                                        </Grid>

                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Список перков -->

                                <StackPanel Grid.Row="2" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Top" Orientation="Horizontal" Margin="0,10,0,10">
                                    <!--<fa:ImageAwesome Icon="Solid_Search" Foreground="White" Width="20"/>-->
                                    <TextBlock Text="Перка" Width="Auto" TextAlignment="Center"/>
                                    <TextBox Text="{Binding SearchKillerPerkInput, UpdateSourceTrigger=PropertyChanged}"
                                             Width="200" FontSize="16" Margin="10,0,0,0"/>
                                </StackPanel>

                                <Border Grid.Row="2" Grid.Column="0" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding KillerPerks}"
                                               SelectedItem="{Binding SelectedKillerPerk}"
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingStackPanel.VirtualizationMode="Recycling"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding PerkName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding PerkImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать I перк" 
                                                          Command="{Binding SelectedKillerFirstPerkCommand}"/>
                                                <MenuItem Header="Выбрать II перк" 
                                                          Command="{Binding SelectedKillerSecondPerkCommand}"/>
                                                <MenuItem Header="Выбрать III перк" 
                                                          Command="{Binding SelectedKillerThirdPerkCommand}"/>
                                                <MenuItem Header="Выбрать IV перк"
                                                          Command="{Binding SelectedKillerFourthPerkCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>

                                <!--#endregion-->

                                <!--#region Список улучшений -->

                                <Border Grid.Row="2" Grid.Column="1" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding KillerAddons}" SelectedItem="{Binding SelectedKillerAddon}" d:ItemsSource="{d:SampleData ItemCount=100}"
                                                   SelectedIndex="0"
                                                   Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                                   HorizontalContentAlignment="Center"
                                                   VerticalContentAlignment="Center"
                                                   ScrollViewer.CanContentScroll="True"
                                                   ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                                   VirtualizingPanel.IsVirtualizing="True"
                                                   VirtualizingStackPanel.VirtualizationMode="Recycling"
                                                   VirtualizingPanel.CacheLength="15,15"
                                                   VirtualizingPanel.CacheLengthUnit="Item"
                                                   VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding AddonName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding AddonImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать  I аддон" 
                                                          Command="{Binding SelectedKillerFirstAddonCommand}"/>
                                                <MenuItem Header="Выбрать II аддон" 
                                                          Command="{Binding SelectedKillerSecondAddonCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>

                                <!--#endregion-->

                                <!--#region Список подношений -->

                                <Border Grid.Row="2" Grid.Column="2" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding KillerOfferings}" SelectedItem="{Binding SelectedKillerOffering}"  d:ItemsSource="{d:SampleData ItemCount=100}"
                                                   SelectedIndex="0"
                                                   Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                                   HorizontalContentAlignment="Center"
                                                   VerticalContentAlignment="Center"
                                                   ScrollViewer.CanContentScroll="True"
                                                   ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                                   VirtualizingPanel.IsVirtualizing="True"
                                                   VirtualizingStackPanel.VirtualizationMode="Recycling"
                                                   VirtualizingPanel.CacheLength="15,15"
                                                   VirtualizingPanel.CacheLengthUnit="Item"
                                                   VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding OfferingName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding OfferingImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>
                                    </ListView>

                                </Border>

                                <!--#endregion-->

                            </Grid>
                        </TabItem>
                        
                        <!--#endregion-->

                        <!--#region Выживший №1 -->
                        
                        <TabItem Header="Первы выживший">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№1}"/>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№2}"/>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№3}"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!--#region Изображение -->

                                <Border Grid.ColumnSpan="3">
                                    <StackPanel>
                                        <Border Margin="5,10,5,5" 
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                            <TextBlock Text="Итог киллер"/>
                                        </Border>
                                        <Border Background="#F999">
                                            <Image Source="{Binding ResultMatchFirstSurvivorImage}"
                                                   Width="920"
                                                   Height="145"
                                                   Margin="10"/>
                                        </Border>
                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Основная информация -->

                                <Border Grid.Row="1" Grid.Column="0" >
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                                <TextBlock Text="Выживший:" 
                                                           FontSize="20"/>
                                                <TextBlock Text="Платформа:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Как умер?"
                                                           FontSize="20"/>
                                                <TextBlock Text="Престиж:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Счет:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Режим:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Бот:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Ассоциация:"
                                                           FontSize="20"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                                                <ComboBox ItemsSource="{Binding Survivors}"
                                                          SelectedItem="{Binding SelectedFirstSurvivor}"
                                                          SelectedIndex="0"
                                                          DisplayMemberPath="SurvivorName"/>

                                                <ComboBox ItemsSource="{Binding Platforms}"                                                            
                                                          SelectedItem="{Binding SelectedFirstSurvivorPlatform}"
                                                          SelectedIndex="0"
                                                          DisplayMemberPath="PlatformName"/>

                                                <ComboBox ItemsSource="{Binding TypeDeaths}"
                                                          SelectedItem="{Binding SelectedFirstSurvivorTypeDeath}"
                                                          SelectedIndex="0"
                                                          DisplayMemberPath="TypeDeathName"/>

                                                <TextBox Text="{Binding FirstSurvivorPrestige}"/>

                                                <TextBox Text="{Binding FirstSurvivorAccount}"/>

                                                <CheckBox Content="Анонимный?"
                                                          Width="150" FontSize="20" 
                                                          Margin="0,5,0,5" 
                                                          IsChecked="{Binding FirstSurvivorAnonymousMode}"                                                            
                                                          Foreground="Black" 
                                                          VerticalContentAlignment="Center"/>

                                                <CheckBox Content="Игрок вышел?" 
                                                          Width="150" FontSize="20" 
                                                          Margin="0,5,0,5" 
                                                          IsChecked="{Binding FirstSurvivorBot}"
                                                          Foreground="Black" 
                                                          VerticalContentAlignment="Center"/>

                                                <ComboBox ItemsSource="{Binding SurvivorPlayerAssociations}"
                                                          SelectedItem="{Binding SelectedFirstSurvivorPlayerAssociation}"
                                                          SelectedIndex="2"
                                                          DisplayMemberPath="PlayerAssociationName"/>
                                            </StackPanel>

                                        </Grid>

                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Билд перки -->

                                <Border Grid.Row="1" Grid.Column="1">
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Перк I:"/>
                                                <TextBlock Text="Перк II:"/>
                                                <TextBlock Text="Перк III:"/>
                                                <TextBlock Text="Перк IV:"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1">
                                                <TextBox Text="{Binding SelectedFirstSurvivorFirstPerk.PerkName}"/>

                                                <TextBox Text="{Binding SelectedFirstSurvivorSecondPerk.PerkName}"/>

                                                <TextBox Text="{Binding SelectedFirstSurvivorThirdPerk.PerkName}"/>

                                                <TextBox Text="{Binding SelectedFirstSurvivorFourthPerk.PerkName}"/>
                                            </StackPanel>

                                        </Grid>

                                    </StackPanel>
                                </Border>


                                <!--#endregion-->

                                <!--#region Билд Предмет \ подношение -->

                                <Border Grid.Row="1" Grid.Column="2">
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>


                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Предмет:"/>
                                                <TextBlock Text="Улучшение I:"/>
                                                <TextBlock Text="Улучшение II:"/>
                                                <TextBlock Text=""/>
                                                <TextBlock Text="Подношение"/>
                                                <TextBlock Text="Роль"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1">
                                                <ComboBox ItemsSource="{Binding Items}"                                                            
                                                          SelectedItem="{Binding SelectedFirstSurvivorItem}"
                                                          DisplayMemberPath="ItemName"/>

                                                <TextBox Text="{Binding SelectedFirstSurvivorFirstItemAddon.ItemAddonName}"/>

                                                <TextBox Text="{Binding SelectedFirstSurvivorSecondItemAddon.ItemAddonName}"/>

                                                <TextBlock Text="" />

                                                <TextBox Text="{Binding SelectedFirstSurvivorOffering.OfferingName}"/>

                                                <ComboBox ItemsSource="{Binding SurvivorRoles}"
                                                          SelectedItem="{Binding SelectedRoleFirstSurvivor}"
                                                          DisplayMemberPath="RoleName"/>
                                            </StackPanel>
                                        </Grid>
                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Список перков -->

                                <StackPanel Grid.Row="2" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Top" Orientation="Horizontal" Margin="0,10,0,10">
                                    <!--<fa:ImageAwesome Icon="Solid_Search" Foreground="White" Width="20"/>-->
                                    <TextBlock Text="Перка" Width="Auto" TextAlignment="Center"/>
                                    <TextBox Text="{Binding SearchSurvivorPerkInput, UpdateSourceTrigger=PropertyChanged}"
                                                     Width="200" FontSize="16" Margin="10,0,0,0"/>
                                </StackPanel>

                                <Border Grid.Row="2" Grid.Column="0" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding SurvivorPerks}" 
                                               SelectedItem="{Binding SelectedSurvivorPerk}" 
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingStackPanel.VirtualizationMode="Recycling"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding PerkName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding PerkImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать как I перк" 
                                                          Command="{Binding SelectedFirstSurvivorFirstPerkCommand}"/>
                                                <MenuItem Header="Выбрать как II перк"
                                                          Command="{Binding SelectedFirstSurvivorSecondPerkCommand}"/>
                                                <MenuItem Header="Выбрать как III перк" 
                                                          Command="{Binding SelectedFirstSurvivorThirdPerkCommand}"/>
                                                <MenuItem Header="Выбрать как IV перк" 
                                                          Command="{Binding SelectedFirstSurvivorFourthPerkCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>

                                <!--#endregion-->

                                <!--#region Список улучшений к предметам -->
                                
                                <Border Grid.Row="2" Grid.Column="1" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding FirstSurvivorItemAddons}" 
                                               SelectedItem="{Binding SelectedItemAddon}" 
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingStackPanel.VirtualizationMode="Recycling"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding ItemAddonName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding ItemAddonImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать как I улучшени" 
                                                          Command="{Binding SelectedFirstSurvivorFirstItemAddonCommand}"/>
                                                <MenuItem Header="Выбрать как II улучшени" 
                                                          Command="{Binding SelectedFirstSurvivorSecondItemAddonCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>

                                <!--#endregion-->

                                <!--#region Список подношений -->

                                <Border Grid.Row="2" Grid.Column="2" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding FirstSurvivorOfferings}"
                                               SelectedItem="{Binding SelectedSurvivorOffering}"
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding OfferingName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding OfferingImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать подношение" 
                                                          Command="{Binding SelectedFirstSurvivorOfferingCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>


                                <!--#endregion-->

                            </Grid>
                        </TabItem>
                        
                        <!--#endregion-->

                        <!--#region Выживший №2 -->
                        
                        <TabItem Header="Второй выживший">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№1}"/>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№2}"/>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№3}"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!--#region Изображение -->

                                <Border Grid.ColumnSpan="3">
                                    <StackPanel>
                                        <Border Margin="5,10,5,5" 
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                            <TextBlock Text="Итог киллер"/>
                                        </Border>
                                        <Border Background="#F999">
                                            <Image Source="{Binding ResultMatchSecondSurvivorImage}"
                                                   Width="920"
                                                   Height="145"
                                                   Margin="10"/>
                                        </Border>
                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Основная информация -->

                                <Border Grid.Row="1" Grid.Column="0" >
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                                <TextBlock Text="Выживший:" 
                                                           FontSize="20"/>
                                                <TextBlock Text="Платформа:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Как умер?"
                                                           FontSize="20"/>
                                                <TextBlock Text="Престиж:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Счет:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Режим:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Бот:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Ассоциация:"
                                                           FontSize="20"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                                                <ComboBox ItemsSource="{Binding Survivors}"
                                                          SelectedItem="{Binding SelectedSecondSurvivor}"
                                                          DisplayMemberPath="SurvivorName"/>

                                                <ComboBox ItemsSource="{Binding Platforms}"                                                            
                                                          SelectedItem="{Binding SelectedSecondSurvivorPlatform}"
                                                          DisplayMemberPath="PlatformName"/>

                                                <ComboBox ItemsSource="{Binding TypeDeaths}"
                                                          SelectedItem="{Binding SelectedSecondSurvivorTypeDeath}"
                                                          SelectedIndex="0"
                                                          DisplayMemberPath="TypeDeathName"/>

                                                <TextBox Text="{Binding SecondSurvivorPrestige}"/>

                                                <TextBox Text="{Binding SecondSurvivorAccount}"/>

                                                <CheckBox Content="Анонимный?"
                                                          Width="150" FontSize="20" 
                                                          Margin="0,5,0,5" 
                                                          IsChecked="{Binding SecondSurvivorAnonymousMode}"                                                            
                                                          Foreground="Black" 
                                                          VerticalContentAlignment="Center"/>

                                                <CheckBox Content="Игрок вышел?" 
                                                          Width="150" FontSize="20" 
                                                          Margin="0,5,0,5" 
                                                          IsChecked="{Binding SecondSurvivorBot}"
                                                          Foreground="Black" 
                                                          VerticalContentAlignment="Center"/>

                                                <ComboBox ItemsSource="{Binding SurvivorPlayerAssociations}"
                                                          SelectedItem="{Binding SelectedSecondSurvivorPlayerAssociation}"
                                                          SelectedIndex="2"
                                                          DisplayMemberPath="PlayerAssociationName"/>
                                            </StackPanel>

                                        </Grid>

                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Билд перки -->

                                <Border Grid.Row="1" Grid.Column="1">
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Перк I:"/>
                                                <TextBlock Text="Перк II:"/>
                                                <TextBlock Text="Перк III:"/>
                                                <TextBlock Text="Перк IV:"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1">
                                                <TextBox Text="{Binding SelectedSecondSurvivorFirstPerk.PerkName}"/>

                                                <TextBox Text="{Binding SelectedSecondSurvivorSecondPerk.PerkName}"/>

                                                <TextBox Text="{Binding SelectedSecondSurvivorThirdPerk.PerkName}"/>

                                                <TextBox Text="{Binding SelectedSecondSurvivorFourthPerk.PerkName}"/>
                                            </StackPanel>

                                        </Grid>

                                    </StackPanel>
                                </Border>


                                <!--#endregion-->

                                <!--#region Билд Предмет \ подношение -->

                                <Border Grid.Row="1" Grid.Column="2">
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>


                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Предмет:"/>
                                                <TextBlock Text="Улучшение I:"/>
                                                <TextBlock Text="Улучшение II:"/>
                                                <TextBlock Text=""/>
                                                <TextBlock Text="Подношение"/>
                                                <TextBlock Text="Роль"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1">
                                                <ComboBox ItemsSource="{Binding Items}"                                                            
                                                          SelectedItem="{Binding SelectedSecondSurvivorItem}"
                                                          DisplayMemberPath="ItemName"/>

                                                <TextBox Text="{Binding SelectedSecondSurvivorFirstItemAddon.ItemAddonName}"/>

                                                <TextBox Text="{Binding SelectedSecondSurvivorSecondItemAddon.ItemAddonName}"/>

                                                <TextBlock Text="" />

                                                <TextBox Text="{Binding SelectedSecondSurvivorOffering.OfferingName}"/>

                                                <ComboBox ItemsSource="{Binding SurvivorRoles}"
                                                          SelectedItem="{Binding SelectedRoleSecondSurvivor}"
                                                          DisplayMemberPath="RoleName"/>
                                            </StackPanel>
                                        </Grid>
                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Список перков -->

                                <StackPanel Grid.Row="2" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Top" Orientation="Horizontal" Margin="0,10,0,10">
                                    <!--<fa:ImageAwesome Icon="Solid_Search" Foreground="White" Width="20"/>-->
                                    <TextBlock Text="Перка" Width="Auto" TextAlignment="Center"/>
                                    <TextBox Text="{Binding SearchSurvivorPerkInput, UpdateSourceTrigger=PropertyChanged}"
                                                     Width="200" FontSize="16" Margin="10,0,0,0"/>
                                </StackPanel>

                                <Border Grid.Row="2" Grid.Column="0" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding SurvivorPerks}" 
                                               SelectedItem="{Binding SelectedSurvivorPerk}" 
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingStackPanel.VirtualizationMode="Recycling"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding PerkName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding PerkImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать как I перк" 
                                                          Command="{Binding SelectedSecondSurvivorFirstPerkCommand}"/>
                                                <MenuItem Header="Выбрать как II перк"
                                                          Command="{Binding SelectedSecondSurvivorSecondPerkCommand}"/>
                                                <MenuItem Header="Выбрать как III перк" 
                                                          Command="{Binding SelectedSecondSurvivorThirdPerkCommand}"/>
                                                <MenuItem Header="Выбрать как IV перк" 
                                                          Command="{Binding SelectedSecondSurvivorFourthPerkCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>

                                <!--#endregion-->

                                <!--#region Список улучшений к предметам -->

                                <Border Grid.Row="2" Grid.Column="1" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding SecondSurvivorItemAddons}" 
                                               SelectedItem="{Binding SelectedItemAddon}" 
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingStackPanel.VirtualizationMode="Recycling"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding ItemAddonName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding ItemAddonImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать как I улучшени" 
                                                          Command="{Binding SelectedSecondSurvivorFirstItemAddonCommand}"/>
                                                <MenuItem Header="Выбрать как II улучшени" 
                                                          Command="{Binding SelectedSecondSurvivorSecondItemAddonCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>

                                <!--#endregion-->

                                <!--#region Список подношений -->

                                <Border Grid.Row="2" Grid.Column="2" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding SecondSurvivorOfferings}"
                                               SelectedItem="{Binding SelectedSurvivorOffering}"
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding OfferingName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding OfferingImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать подношение" 
                                                          Command="{Binding SelectedSecondSurvivorOfferingCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>


                                <!--#endregion-->

                            </Grid>
                        </TabItem>
                        
                        <!--#endregion-->

                        <!--#region Выживший №3 -->
                        
                        <TabItem Header="Третий выживший">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№1}"/>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№2}"/>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№3}"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!--#region Изображение -->

                                <Border Grid.ColumnSpan="3">
                                    <StackPanel>
                                        <Border Margin="5,10,5,5" 
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                            <TextBlock Text="Итог киллер"/>
                                        </Border>
                                        <Border Background="#F999">
                                            <Image Source="{Binding ResultMatchThirdSurvivorImage}"
                                                   Width="920"
                                                   Height="145"
                                                   Margin="10"/>
                                        </Border>
                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Основная информация -->

                                <Border Grid.Row="1" Grid.Column="0" >
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                                <TextBlock Text="Выживший:" 
                                                           FontSize="20"/>
                                                <TextBlock Text="Платформа:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Как умер?"
                                                           FontSize="20"/>
                                                <TextBlock Text="Престиж:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Счет:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Режим:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Бот:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Ассоциация:"
                                                           FontSize="20"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                                                <ComboBox ItemsSource="{Binding Survivors}"
                                                          SelectedItem="{Binding SelectedThirdSurvivor}"
                                                          DisplayMemberPath="SurvivorName"/>

                                                <ComboBox ItemsSource="{Binding Platforms}"                                                            
                                                          SelectedItem="{Binding SelectedThirdSurvivorPlatform}"
                                                          DisplayMemberPath="PlatformName"/>

                                                <ComboBox ItemsSource="{Binding TypeDeaths}"
                                                          SelectedItem="{Binding SelectedThirdSurvivorTypeDeath}"
                                                          SelectedIndex="0"
                                                          DisplayMemberPath="TypeDeathName"/>

                                                <TextBox Text="{Binding ThirdSurvivorPrestige}"/>

                                                <TextBox Text="{Binding ThirdSurvivorAccount}"/>

                                                <CheckBox Content="Анонимный?"
                                                          Width="150" FontSize="20" 
                                                          Margin="0,5,0,5" 
                                                          IsChecked="{Binding ThirdSurvivorAnonymousMode}"                                                            
                                                          Foreground="Black" 
                                                          VerticalContentAlignment="Center"/>

                                                <CheckBox Content="Игрок вышел?" 
                                                          Width="150" FontSize="20" 
                                                          Margin="0,5,0,5" 
                                                          IsChecked="{Binding ThirdSurvivorBot}"
                                                          Foreground="Black" 
                                                          VerticalContentAlignment="Center"/>

                                                <ComboBox ItemsSource="{Binding SurvivorPlayerAssociations}"
                                                          SelectedItem="{Binding SelectedThirdSurvivorPlayerAssociation}"
                                                          SelectedIndex="2"
                                                          DisplayMemberPath="PlayerAssociationName"/>
                                            </StackPanel>

                                        </Grid>

                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Билд перки -->

                                <Border Grid.Row="1" Grid.Column="1">
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Перк I:"/>
                                                <TextBlock Text="Перк II:"/>
                                                <TextBlock Text="Перк III:"/>
                                                <TextBlock Text="Перк IV:"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1">
                                                <TextBox Text="{Binding SelectedThirdSurvivorFirstPerk.PerkName}"/>

                                                <TextBox Text="{Binding SelectedThirdSurvivorSecondPerk.PerkName}"/>

                                                <TextBox Text="{Binding SelectedThirdSurvivorThirdPerk.PerkName}"/>

                                                <TextBox Text="{Binding SelectedThirdSurvivorFourthPerk.PerkName}"/>
                                            </StackPanel>

                                        </Grid>

                                    </StackPanel>
                                </Border>


                                <!--#endregion-->

                                <!--#region Билд Предмет \ подношение -->

                                <Border Grid.Row="1" Grid.Column="2">
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>


                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Предмет:"/>
                                                <TextBlock Text="Улучшение I:"/>
                                                <TextBlock Text="Улучшение II:"/>
                                                <TextBlock Text=""/>
                                                <TextBlock Text="Подношение"/>
                                                <TextBlock Text="Роль"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1">
                                                <ComboBox ItemsSource="{Binding Items}"                                                            
                                                          SelectedItem="{Binding SelectedThirdSurvivorItem}"
                                                          DisplayMemberPath="ItemName"/>

                                                <TextBox Text="{Binding SelectedThirdSurvivorFirstItemAddon.ItemAddonName}"/>

                                                <TextBox Text="{Binding SelectedThirdSurvivorSecondItemAddon.ItemAddonName}"/>

                                                <TextBlock Text="" />

                                                <TextBox Text="{Binding SelectedThirdSurvivorOffering.OfferingName}"/>

                                                <ComboBox ItemsSource="{Binding SurvivorRoles}"
                                                          SelectedItem="{Binding SelectedRoleThirdSurvivor}"
                                                          DisplayMemberPath="RoleName"/>
                                            </StackPanel>
                                        </Grid>
                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Список перков -->

                                <StackPanel Grid.Row="2" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Top" Orientation="Horizontal" Margin="0,10,0,10">
                                    <!--<fa:ImageAwesome Icon="Solid_Search" Foreground="White" Width="20"/>-->
                                    <TextBlock Text="Перка" Width="Auto" TextAlignment="Center"/>
                                    <TextBox Text="{Binding SearchSurvivorPerkInput, UpdateSourceTrigger=PropertyChanged}"
                                                     Width="200" FontSize="16" Margin="10,0,0,0"/>
                                </StackPanel>

                                <Border Grid.Row="2" Grid.Column="0" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding SurvivorPerks}" 
                                               SelectedItem="{Binding SelectedSurvivorPerk}" 
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingStackPanel.VirtualizationMode="Recycling"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding PerkName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding PerkImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать как I перк" 
                                                          Command="{Binding SelectedThirdSurvivorFirstPerkCommand}"/>
                                                <MenuItem Header="Выбрать как II перк"
                                                          Command="{Binding SelectedThirdSurvivorSecondPerkCommand}"/>
                                                <MenuItem Header="Выбрать как III перк" 
                                                          Command="{Binding SelectedThirdSurvivorThirdPerkCommand}"/>
                                                <MenuItem Header="Выбрать как IV перк" 
                                                          Command="{Binding SelectedThirdSurvivorFourthPerkCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>

                                <!--#endregion-->

                                <!--#region Список улучшений к предметам -->

                                <Border Grid.Row="2" Grid.Column="1" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding ThirdSurvivorItemAddons}" 
                                               SelectedItem="{Binding SelectedItemAddon}" 
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingStackPanel.VirtualizationMode="Recycling"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding ItemAddonName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding ItemAddonImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать как I улучшени" 
                                                          Command="{Binding SelectedThirdSurvivorFirstItemAddonCommand}"/>
                                                <MenuItem Header="Выбрать как II улучшени" 
                                                          Command="{Binding SelectedThirdSurvivorSecondItemAddonCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>

                                <!--#endregion-->

                                <!--#region Список подношений -->

                                <Border Grid.Row="2" Grid.Column="2" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding ThirdSurvivorOfferings}"
                                               SelectedItem="{Binding SelectedSurvivorOffering}"
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding OfferingName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding OfferingImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать подношение" 
                                                          Command="{Binding SelectedThirdSurvivorOfferingCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>


                                <!--#endregion-->

                            </Grid>
                        </TabItem>
                        
                        <!--#endregion-->

                        <!--#region Выживший №4 -->
                        
                        <TabItem Header="Четвертый выживший">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№1}"/>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№2}"/>
                                    <RowDefinition Style="{StaticResource RowDefinitionKiller№3}"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!--#region Изображение -->

                                <Border Grid.ColumnSpan="3">
                                    <StackPanel>
                                        <Border Margin="5,10,5,5" 
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                            <TextBlock Text="Итог киллер"/>
                                        </Border>
                                        <Border Background="#F999">
                                            <Image Source="{Binding ResultMatchFourthSurvivorImage}"
                                                   Width="920"
                                                   Height="145"
                                                   Margin="10"/>
                                        </Border>
                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Основная информация -->

                                <Border Grid.Row="1" Grid.Column="0" >
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                                <TextBlock Text="Выживший:" 
                                                           FontSize="20"/>
                                                <TextBlock Text="Платформа:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Как умер?"
                                                           FontSize="20"/>
                                                <TextBlock Text="Престиж:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Счет:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Режим:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Бот:"
                                                           FontSize="20"/>
                                                <TextBlock Text="Ассоциация:"
                                                           FontSize="20"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                                                <ComboBox ItemsSource="{Binding Survivors}"
                                                          SelectedItem="{Binding SelectedFourthSurvivor}"
                                                          DisplayMemberPath="SurvivorName"/>

                                                <ComboBox ItemsSource="{Binding Platforms}"                                                            
                                                          SelectedItem="{Binding SelectedFourthSurvivorPlatform}"
                                                          DisplayMemberPath="PlatformName"/>

                                                <ComboBox ItemsSource="{Binding TypeDeaths}"
                                                          SelectedItem="{Binding SelectedFourthSurvivorTypeDeath}"
                                                          SelectedIndex="0"
                                                          DisplayMemberPath="TypeDeathName"/>

                                                <TextBox Text="{Binding FourthSurvivorPrestige}"/>

                                                <TextBox Text="{Binding FourthSurvivorAccount}"/>

                                                <CheckBox Content="Анонимный?"
                                                          Width="150" FontSize="20" 
                                                          Margin="0,5,0,5" 
                                                          IsChecked="{Binding FourthSurvivorAnonymousMode}"                                                            
                                                          Foreground="Black" 
                                                          VerticalContentAlignment="Center"/>

                                                <CheckBox Content="Игрок вышел?" 
                                                          Width="150" FontSize="20" 
                                                          Margin="0,5,0,5" 
                                                          IsChecked="{Binding FourthSurvivorBot}"
                                                          Foreground="Black" 
                                                          VerticalContentAlignment="Center"/>

                                                <ComboBox ItemsSource="{Binding SurvivorPlayerAssociations}"
                                                          SelectedItem="{Binding SelectedFourthSurvivorPlayerAssociation}"
                                                          SelectedIndex="2"
                                                          DisplayMemberPath="PlayerAssociationName"/>
                                            </StackPanel>

                                        </Grid>

                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Билд перки -->

                                <Border Grid.Row="1" Grid.Column="1">
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Перк I:"/>
                                                <TextBlock Text="Перк II:"/>
                                                <TextBlock Text="Перк III:"/>
                                                <TextBlock Text="Перк IV:"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1">
                                                <TextBox Text="{Binding SelectedFourthSurvivorFirstPerk.PerkName}"/>

                                                <TextBox Text="{Binding SelectedFourthSurvivorSecondPerk.PerkName}"/>

                                                <TextBox Text="{Binding SelectedFourthSurvivorThirdPerk.PerkName}"/>

                                                <TextBox Text="{Binding SelectedFourthSurvivorFourthPerk.PerkName}"/>
                                            </StackPanel>

                                        </Grid>

                                    </StackPanel>
                                </Border>


                                <!--#endregion-->

                                <!--#region Билд Предмет \ подношение -->

                                <Border Grid.Row="1" Grid.Column="2">
                                    <StackPanel>

                                        <Border Background="#F999"
                                                Width="350"
                                                Height="31"
                                                Margin="5"
                                                CornerRadius="5">
                                            <TextBlock Text="Основная информация" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>


                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Предмет:"/>
                                                <TextBlock Text="Улучшение I:"/>
                                                <TextBlock Text="Улучшение II:"/>
                                                <TextBlock Text=""/>
                                                <TextBlock Text="Подношение"/>
                                                <TextBlock Text="Роль"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1">
                                                <ComboBox ItemsSource="{Binding Items}"                                                            
                                                          SelectedItem="{Binding SelectedFourthSurvivorItem}"
                                                          DisplayMemberPath="ItemName"/>

                                                <TextBox Text="{Binding SelectedFourthSurvivorFirstItemAddon.ItemAddonName}"/>

                                                <TextBox Text="{Binding SelectedFourthSurvivorSecondItemAddon.ItemAddonName}"/>

                                                <TextBlock Text="" />

                                                <TextBox Text="{Binding SelectedFourthSurvivorOffering.OfferingName}"/>

                                                <ComboBox ItemsSource="{Binding SurvivorRoles}"
                                                          SelectedItem="{Binding SelectedRoleFourthSurvivor}"
                                                          DisplayMemberPath="RoleName"/>
                                            </StackPanel>
                                        </Grid>
                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Список перков -->

                                <StackPanel Grid.Row="2" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Top" Orientation="Horizontal" Margin="0,10,0,10">
                                    <!--<fa:ImageAwesome Icon="Solid_Search" Foreground="White" Width="20"/>-->
                                    <TextBlock Text="Перка" Width="Auto" TextAlignment="Center"/>
                                    <TextBox Text="{Binding SearchSurvivorPerkInput, UpdateSourceTrigger=PropertyChanged}"
                                                     Width="200" FontSize="16" Margin="10,0,0,0"/>
                                </StackPanel>

                                <Border Grid.Row="2" Grid.Column="0" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding SurvivorPerks}" 
                                               SelectedItem="{Binding SelectedSurvivorPerk}" 
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingStackPanel.VirtualizationMode="Recycling"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding PerkName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding PerkImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать как I перк" 
                                                          Command="{Binding SelectedFourthSurvivorFirstPerkCommand}"/>
                                                <MenuItem Header="Выбрать как II перк"
                                                          Command="{Binding SelectedFourthSurvivorSecondPerkCommand}"/>
                                                <MenuItem Header="Выбрать как III перк" 
                                                          Command="{Binding SelectedFourthSurvivorThirdPerkCommand}"/>
                                                <MenuItem Header="Выбрать как IV перк" 
                                                          Command="{Binding SelectedFourthSurvivorFourthPerkCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>

                                <!--#endregion-->

                                <!--#region Список улучшений к предметам -->

                                <Border Grid.Row="2" Grid.Column="1" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding FourthSurvivorItemAddons}" 
                                               SelectedItem="{Binding SelectedItemAddon}" 
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingStackPanel.VirtualizationMode="Recycling"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding ItemAddonName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding ItemAddonImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать как I улучшени" 
                                                          Command="{Binding SelectedFourthSurvivorFirstItemAddonCommand}"/>
                                                <MenuItem Header="Выбрать как II улучшени" 
                                                          Command="{Binding SelectedFourthSurvivorSecondItemAddonCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>

                                <!--#endregion-->

                                <!--#region Список подношений -->

                                <Border Grid.Row="2" Grid.Column="2" Margin="10,50,10,10">

                                    <ListView  ItemsSource="{Binding FourthSurvivorOfferings}"
                                               SelectedItem="{Binding SelectedSurvivorOffering}"
                                               d:ItemsSource="{d:SampleData ItemCount=100}"
                                               SelectedIndex="0"
                                               Background="Transparent" BorderThickness="0" Margin="10,5,10,5"
                                               HorizontalContentAlignment="Center"
                                               VerticalContentAlignment="Center"
                                               ScrollViewer.CanContentScroll="True"
                                               ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                               VirtualizingPanel.IsVirtualizing="True"
                                               VirtualizingPanel.CacheLength="15,15"
                                               VirtualizingPanel.CacheLengthUnit="Item"
                                               VirtualizingPanel.ScrollUnit="Pixel">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="White" Width="95" Height="95" BorderThickness="1" CornerRadius="10">
                                                    <Border.ToolTip>
                                                        <ToolTip Content="{Binding OfferingName}" FontSize="20" Placement="Right" ToolTipService.InitialShowDelay="1" ToolTipService.ShowDuration="10"/>
                                                    </Border.ToolTip>
                                                    <StackPanel Orientation="Horizontal" Margin="10">
                                                        <Grid>
                                                            <Image Source="{Binding OfferingImage}"/>
                                                        </Grid>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>

                                        <ListView.ContextMenu>
                                            <ContextMenu >
                                                <MenuItem Header="Выбрать подношение" 
                                                          Command="{Binding SelectedFourthSurvivorOfferingCommand}"/>
                                            </ContextMenu>
                                        </ListView.ContextMenu>

                                    </ListView>

                                </Border>


                                <!--#endregion-->

                            </Grid>
                        </TabItem>
                        
                        <!--#endregion-->

                        <!--#region Итог матча -->

                        <TabItem>
                            <TabItem.Header>
                                <TextBlock Text="Конец игры" FontSize="20" />
                            </TabItem.Header>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="220"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!--#region Изображение -->

                                <Border Grid.Column="1" Margin="10,10,10,10">
                                    <StackPanel>
                                        <Border Margin="5,10,5,5">
                                            <TextBlock Text="Начало игры (Карта)"/>
                                        </Border>
                                        <Border Height="250" BorderBrush="Gray" BorderThickness="2" CornerRadius="10" Margin="10,5,10,10">
                                            <Image Source="{Binding StartMatchImage}" Margin="10"/>
                                        </Border>
                                    </StackPanel>
                                </Border>

                                <Border Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" Margin="10,10,10,10">
                                    <StackPanel>
                                        <Border Margin="5,10,5,5">
                                            <TextBlock Text="Конец игры (Повесы)"/>
                                        </Border>
                                        <Border Height="550" BorderBrush="Gray" BorderThickness="2" CornerRadius="10" Margin="10,5,10,10">
                                            <Image Source="{Binding EndMatchImage}" Margin="10"/>
                                        </Border>
                                    </StackPanel>
                                </Border>

                                <Border Grid.Row="2" Grid.Column="0" Margin="10,10,10,10">
                                    <StackPanel>
                                        <Border Margin="5,10,5,5">
                                            <TextBlock Text="Таблица результатов"/>
                                        </Border>
                                        <Border Height="500" BorderBrush="Gray" BorderThickness="2" CornerRadius="10" Margin="10,5,10,10">
                                            <Image Source="{Binding ResultMatchImage}" Margin="10"/>
                                        </Border>
                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                                <!--#region Основная \ Доп информация -->

                                <Border Grid.Row="1" Grid.RowSpan="2" Grid.Column="1" VerticalAlignment="Stretch" Margin="10,10,10,10">
                                    <StackPanel>

                                        <Border>
                                            <TextBlock Text="Основная информация"/>
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                                <TextBlock Text="Дата игры:"/>
                                                <TextBlock Text="Длительность:"/>
                                                <TextBlock Text="Кол-во килов:"/>
                                                <TextBlock Text="Кол-во повесов:"/>
                                                <TextBlock Text="Карта:"/>
                                                <TextBlock Text="Генераторов:"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1" HorizontalAlignment="Center">

                                                <DatePicker Width="150" Height="25" 
                                                            SelectedDate="{Binding SelectedDateTimeGameMatch}"
                                                            Margin="0,5,0,5"
                                                            HorizontalAlignment="Left"/>

                                                <TextBlock Width="150" Height="25" 
                                                           Margin="0,5,0,5"
                                                           Foreground="Black"
                                                           Text="{Binding DurationMatch}"
                                                           HorizontalAlignment="Left"/>

                                                <TextBox Text="{Binding CountKills}"
                                                         FontSize="17" 
                                                         HorizontalAlignment="Left" 
                                                         TextAlignment="Center"
                                                         Width="200"/>

                                                <TextBox Text="{Binding CountHooks}"
                                                         Width="200"/>

                                                <ComboBox ItemsSource="{Binding Maps}"
                                                          SelectedItem="{Binding SelectedMap}"
                                                          DisplayMemberPath="MapName"/>

                                                <ComboBox ItemsSource="{Binding MatchAttributes}"
                                                          SelectedItem="{Binding SelectedMatchAttribute}"
                                                          DisplayMemberPath="AttributeName"/>

                                                <TextBox Text="{Binding CountNumberRecentGenerators}"/>
                                            </StackPanel>
                                        </Grid>

                                        <Border Margin="5,10,5,10" >
                                            <TextBlock Text="Дполнительная информация" />
                                        </Border>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                                <TextBlock Text="Патч:"/>
                                                <TextBlock Text="Режим игры:"/>
                                                <TextBlock Text="Игровой ивент:"/>
                                                <TextBlock Text="Кто поставил карту?:"/>
                                                <TextBlock Text="Чья карта выпала?"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1" HorizontalAlignment="Center">

                                                <ComboBox ItemsSource="{Binding Patches}"
                                                          SelectedItem="{Binding SelectedPatch}"
                                                          DisplayMemberPath="PatchNumber"
                                                          SelectedIndex="0"/>

                                                <ComboBox ItemsSource="{Binding GameModes}"
                                                          SelectedItem="{Binding SelectedGameMode}"
                                                          DisplayMemberPath="GameModeName"
                                                          SelectedIndex="0"/>

                                                <ComboBox ItemsSource="{Binding GameEvents}"
                                                          SelectedItem="{Binding SelectedGameEvent}"
                                                          DisplayMemberPath="GameEventName"
                                                          SelectedIndex="0"/>

                                                <ComboBox ItemsSource="{Binding WhoPlacedMaps}"
                                                          SelectedItem="{Binding SelectedWhoPlacedMap}" 
                                                          DisplayMemberPath="WhoPlacedMapName"
                                                          SelectedIndex="0"/>

                                                <ComboBox ItemsSource="{Binding WhoPlacedMaps}"
                                                          SelectedItem="{Binding SelectedWhoPlacedMapWin}"
                                                          DisplayMemberPath="WhoPlacedMapName"
                                                          SelectedIndex="0"/>
                                            </StackPanel>
                                        </Grid>

                                        <Border Margin="5,10,5,10" >
                                            <TextBlock Text="Описание"/>
                                        </Border>

                                        <TextBox Text="{Binding DescriptionGame}"
                                                     TextAlignment="Left"
                                                     Width="500" Height="200"/>

                                    </StackPanel>
                                </Border>

                                <!--#endregion-->

                            </Grid>
                        </TabItem>

                        <!--#endregion-->

                        <TabItem>
                            <Image Source="{Binding ResultMathImages}"/>
                        </TabItem>
                        
                    </TabControl>
                </ScrollViewer>

                <!--#endregion-->

            </Grid>
            
        </Grid>
    </Border>
</Window>